general:
  artifacts: 
    - "darbyrecord.br"
    - "results.txt"

dependencies:
  override:
    - unzip robocode-1.9.2.5-setup.jar

test:
  override:
    - find -name "./robots/*.java" > sources.txt
    - javac -classpath $CLASSPATH:./libs/robocode.jar @sources.txt
    - java -Xmx512M -Dsun.io.useCanonCaches=false -cp libs/robocode.jar robocode.Robocode -battle battles/darby.battle -nodisplay -results results.txt -nosound -record darbyrecord.br
  post:
    - column -ts $'\t' results.txt
